<!DOCTYPE html>
	<head>
		<meta charset="utf-8">
		<title>Asteroids++ | Brandon</title>
		<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
		<link rel="stylesheet" href="styles.css">
		<script src="processing.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/buzz/1.2.0/buzz.min.js"></script>
		<script
	  src="https://code.jquery.com/jquery-3.1.1.min.js"
	  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
	  crossorigin="anonymous">
		</script>
		<script type="text/javascript">
			/* song variables */
			var bg = new buzz.sound("bg",{formats:["mp3"],loop:true});
			var title = new buzz.sound("title",{formats:["mp3"],loop:true});
			var explode = new buzz.sound("explode",{formats:["wav"],loop:false});

			var pjs;
			var bound = false;
			function bindJavascript() {
				/* bind to processing */
				pjs = Processing.getInstanceById("AsteroidsGame");
				if(pjs!=null) {
					pjs.bindJavascript(this);
					bound = true;
				}
				/* If cannot find processing, repeat every 250 ms */
				if(!bound) setTimeout(bindJavascript,250);
			}
			bindJavascript();

			function playSound(song) {
				switch(song) {
					case "title":
						buzz.all().stop();
						title.loop().play();
						break;
					case "bg":
						buzz.all().stop();
						bg.loop().play();
						break;
					case "explode":
						explode.play();
				}
			}
			$(document).keydown(function(e) {
				switch(e.which) {
					case 87:
						pjs.keyDown("w");
						break;
					case 65:
						pjs.keyDown("a");
						break;
					case 83:
						pjs.keyDown("s");
						break;
					case 68:
						pjs.keyDown("d");
						break;
					case 32:
						pjs.keyDown(" ");
						return false;
						break;
				}
			});

			$(document).keyup(function(e) {
				switch(e.which) {
					case 13:
						pjs.keyUp("ENTER");
						break;
					case 27:
						pjs.keyUp("ESC")
						break;
					case 87:
						pjs.keyUp("w");
						break;
					case 65:
						pjs.keyUp("a");
						break;
					case 83:
						pjs.keyUp("s");
						break;
					case 68:
						pjs.keyUp("d");
						break;
					case 81:
						pjs.keyUp("q");
						break;
					case 32:
						pjs.keyUp(" ");
						break;
				}
			});
		</script>
	</head>
	<body>
		<div class="gamescreen">
			<canvas id="AsteroidsGame" data-processing-sources="AsteroidsGame.pde Asteroid.pde Floater.pde SpaceShip.pde Star.pde Bullet.pde Camera.pde MiniMap.pde MyShip.pde EnemyShip.pde Spacestation.pde WingShip.pde HealthBar.pde Particle.pde"></canvas>
	  </div>
	  <div class="text">
			<h1>Asteroids and More</h1>
			<p>
				Controls: W to accelerate. S to negatively accelerate. A to rotate left. D to rotate right. Q to hyperspace. SPACE to fire bullets. ENTER to start. ESC to pause.
			</p>
			<p>
				Dev: Brandon Lou for Lowell HS' AP Computer Science class.
			</p>
			<p>
				Github: <a href="https://github.com/brlou-apcs/AsteroidsGame">[link]</a>. Please submit any bugs/glitches in the repo's issues.
			</p>
		</div>
	</body>
</html>
